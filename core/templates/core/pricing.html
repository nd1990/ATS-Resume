{% extends 'core/base.html' %}

{% block content %}
<div class="container py-5">
    <div class="text-center mb-5">
        <h1 class="display-4 fw-bold mb-3">Simple, Transparent Pricing</h1>
        <p class="lead text-secondary">Choose the plan that best fits your career goals.</p>
    </div>

    {% if user.is_authenticated %}
    <!-- Logged In View -->
    <div class="row row-cols-1 row-cols-md-3 mb-3 text-center justify-content-center">
        <div class="col">
            <div class="card mb-4 rounded-3 shadow-sm border-0 h-100" style="background: var(--card-bg);">
                <div class="card-header py-3 border-bottom border-secondary border-opacity-10">
                    <h4 class="my-0 fw-normal">Free</h4>
                </div>
                <div class="card-body d-flex flex-column">
                    <h1 class="card-title pricing-card-title">$0<small class="text-secondary fw-light">/mo</small></h1>
                    <ul class="list-unstyled mt-3 mb-4 text-start mx-auto">
                        <li class="mb-2"><span class="text-success me-2 ">✓</span> 5 Resume Scans / month</li>
                        <li class="mb-2"><span class="text-success me-2">✓</span> Basic ATS Score</li>
                        <li class="mb-2"><span class="text-secondary me-2">✗</span> Detailed Keyword Analysis</li>
                        <li class="mb-2"><span class="text-secondary me-2">✗</span> Priority Support</li>
                    </ul>
                    <button type="button" class="btn btn-outline-light w-100 mt-auto rounded-pill" disabled>Current
                        Plan</button>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card mb-4 rounded-3 shadow-lg border-primary h-100"
                style="background: linear-gradient(145deg, var(--card-bg), rgba(56, 189, 248, 0.1)); border: 1px solid var(--accent);">
                <div class="card-header py-3 border-bottom border-primary border-opacity-25 bg-primary bg-opacity-10">
                    <h4 class="my-0 fw-normal text-white">Pro</h4>
                </div>
                <div class="card-body d-flex flex-column">
                    <h1 class="card-title pricing-card-title text-white">$19<small
                            class="text-secondary fw-light">/mo</small></h1>
                    <ul class="list-unstyled mt-3 mb-4 text-start mx-auto">
                        <li class="mb-2"><span class="text-success me-2">✓</span> Unlimited Resume Scans</li>
                        <li class="mb-2"><span class="text-success me-2">✓</span> Detailed AI Feedback</li>
                        <li class="mb-2"><span class="text-success me-2">✓</span> Keyword Optimization</li>
                        <li class="mb-2"><span class="text-success me-2">✓</span> Job Matching</li>
                    </ul>
                    <button type="button" class="btn btn-primary w-100 mt-auto rounded-pill hover-scale">Upgrade to
                        Pro</button>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card mb-4 rounded-3 shadow-sm border-0 h-100" style="background: var(--card-bg);">
                <div class="card-header py-3 border-bottom border-secondary border-opacity-10">
                    <h4 class="my-0 fw-normal">Enterprise</h4>
                </div>
                <div class="card-body d-flex flex-column">
                    <h1 class="card-title pricing-card-title">$49<small class="text-secondary fw-light">/mo</small></h1>
                    <ul class="list-unstyled mt-3 mb-4 text-start mx-auto">
                        <li class="mb-2"><span class="text-success me-2">✓</span> Everything in Pro</li>
                        <li class="mb-2"><span class="text-success me-2">✓</span> Bulk Resume Upload</li>
                        <li class="mb-2"><span class="text-success me-2">✓</span> API Access</li>
                        <li class="mb-2"><span class="text-success me-2">✓</span> Dedicated Account Manager</li>
                    </ul>
                    <button type="button" class="btn btn-outline-light w-100 mt-auto rounded-pill">Contact
                        Sales</button>
                </div>
            </div>
        </div>
    </div>
    {% else %}
    <!-- Not Logged In View -->
    <div class="row row-cols-1 row-cols-md-3 mb-3 text-center justify-content-center blur-effect-container">
        <!-- Blurred/Restricted Content Visualization -->
        <div class="col">
            <div class="card mb-4 rounded-3 shadow-sm border-0 h-100 disable-interaction"
                style="background: var(--card-bg); opacity: 0.7;">
                <div class="card-header py-3 border-bottom border-secondary border-opacity-10">
                    <h4 class="my-0 fw-normal text-white">Basic</h4>
                </div>
                <div class="card-body">
                    <h1 class="card-title pricing-card-title">Free</h1>
                    <ul class="list-unstyled mt-3 mb-4 text-white">
                        <li>Resume Scanning</li>
                        <li>Basic Report</li>
                        <li>Email Support</li>
                        <li>Help Center Access</li>
                    </ul>
                    <a href="{% url 'login' %}" class="btn btn-outline-light w-100 rounded-pill">Sign in to view</a>
                </div>
            </div>
        </div>
        <div class="col position-relative">
            <div class="card mb-4 rounded-3 shadow-lg border-primary h-100"
                style="background: var(--card-bg); transform: scale(1.05); z-index: 10;">
                <div class="card-header py-3 border-bottom border-primary border-opacity-25 bg-primary bg-opacity-10">
                    <h4 class="my-0 fw-normal text-white">Pro Plan</h4>
                </div>
                <div class="card-body d-flex flex-column justify-content-center align-items-center">
                    <div class="mb-4">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M12 15V17M6 21H18C19.1046 21 20 20.1046 20 19V10L12 5.5L4 10V19C4 20.1046 4.89543 21 6 21ZM12 11V13M8 11V13M16 11V13"
                                stroke="#38bdf8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </div>
                    <h3 class="text-white mb-3">Unlock Premium Features</h3>
                    <p class="text-secondary mb-4">Get unlimited scans, detailed AI analysis, and more.</p>
                    <a href="{% url 'signup' %}" class="btn btn-primary w-100 rounded-pill btn-lg hover-lift">Get
                        Started Now</a>
                    <p class="mt-3 text-secondary small">Join 10,000+ job seekers today</p>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card mb-4 rounded-3 shadow-sm border-0 h-100 disable-interaction"
                style="background: var(--card-bg); opacity: 0.7;">
                <div class="card-header py-3 border-bottom border-secondary border-opacity-10">
                    <h4 class="my-0 fw-normal text-white">Enterprise</h4>
                </div>
                <div class="card-body">
                    <h1 class="card-title pricing-card-title">Custom</h1>
                    <ul class="list-unstyled mt-3 mb-4 text-white">
                        <li>API Access</li>
                        <li>Bulk Processing</li>
                        <li>Dedicate Support</li>
                        <li>SLA</li>
                    </ul>
                    <a href="{% url 'login' %}" class="btn btn-outline-light w-100 rounded-pill">Sign in to view</a>
                </div>
            </div>
        </div>
    </div>

    <div class="text-center mt-5">
        <p class="text-secondary">Looking for something else? <a href="#"
                class="text-accent text-decoration-none">Contact us</a></p>
    </div>
    {% endif %}

</div>

<style>
    .hover-scale {
        transition: transform 0.2s;
    }

    .hover-scale:hover {
        transform: scale(1.05);
    }

    .hover-lift {
        transition: transform 0.2s, box-shadow 0.2s;
    }

    .hover-lift:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(56, 189, 248, 0.3);
    }

    .pricing-card-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: white;
    }
</style>
{% endblock %}